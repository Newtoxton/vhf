-# coding: utf-8
!!!
/[if IE 9 ] <html class="ie9">
%html
  %head
    %meta{:charset => "utf-8"}/
    %meta{:content => "IE=edge", "http-equiv" => "X-UA-Compatible"}/
    %meta{:content => "width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no", :name => "viewport"}/
    %meta{:content => "text/html; charset=UTF-8", "http-equiv" => "Content-Type"}/
    %title= @title ? "#{$title} | #{@title}" : $title
    / CSS
    -#%link{:href => "https://fonts.googleapis.com/icon?family=Material+Icons", :rel => "stylesheet"}/
    %link{:href => "/fonts/Material-Icons/material-icons.css", :rel => "stylesheet"}/
    %link{:href => "/css/main.css?#{rand(1024)}", :media => "screen,projection", :rel => "stylesheet", :type => "text/css"}/
    :css
      body {
        background: #ddd;
      }
      a { cursor: pointer; }
      .flex-grid {
        display: flex;
        flex-flow: row wrap;
      }
      .flex-grid.vertical {
        flex-directon: column;
      }
      .flex-grid.no-wrap {
        flex-wrap: nowrap;
      }
      .col { 
        flex: 1; 
        margin: 4px;
        padding: 0 6px;
        background-color: #fff;
      }
      .col2 { 
        flex: 2; 
        margin: 4px; 
        padding: 0 6px;
        background-color: #fff;
      }
      .nowrap {
        white-space: nowrap;
        display: inline;
      }
      .rw3 {
        background-image:url("/img/rw3.svg") !important;
        transition: 1s !important;
      }
      .leaflet-control-scale-line {
        background-color: transparent;
      }
      canvas.leaflet-zoom-animated { 
        height: calc( 100% - 48px ) !important;
      }
      .svg {
        width: 100%;
        max-width: 100%;
        height: 264px;
      }
      #weather { text-align:center;}
      #weather i { font-size: 32px;}
      #weather span { font-size: 14px;}
      #weather i.wi-wind { font-size: 42px; color:#aaa;}
      li {
        list-style-type: none;
        padding: 0 12px;
      }
      .inline > * {
        display:inline;
      }
      li.large > *:not(h4) {
        font-size:24px;
      }
      li > small {
        font-size: 16px !important;
        color: #666;
      }
      table.full { width: 100%; max-width: 100%; }
      table.full tbody { width: 100%; }
      table.full tbody tr { width: 100%; }
      table.inline tbody td > * { display: inline; }
      .svgwrap {
        max-width: 100%;
        overflow-x: auto;
        overflow-y: visible;
        min-height: 280px;
        margin-bottom:12px;
      }
      #gauge-container {
      }
      #weather .leftie { text-align: left; font-size:24px; }
      #weather .attr { font-size:16px;color:#666; }
      #weather .huge { font-size:48px; }
      #weather .middle { font-size:20px;margin:0; }
      #weather .temp { font-size:36px; }
      #weather .midicon { font-size:18px; margin-right:4px; }
      #weather .windicon { font-size:64px !important; }
      #weather span.wind { font-size:24px; }

      .dropdown-content li > a, .dropdown-content li > span { color: #666; }
      .full { width: 100%; }
      input.select-dropdown, #period { margin-bottom: 10px !important; }
      .block {display:block;}
      .nobg { background-color: transparent; }

    %link{:rel=>"apple-touch-icon-precomposed",:href=>"/img/apple-touch-icon-152x152-precomposed.png"}
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

  %body
    %header
      =Haml::Engine.new(IO.read("#{Dir.pwd}/views/sidenav.haml")).render
      .navbar-fixed
        %nav.top-nav
          %a.button-collapse.top-nav.full{"data-activates" => "nav-mobile", :href => "#"}
            %i.material-icons.large menu
          .nav-wrapper
            %h5{:style=>"color:white !important"} &nbsp;

    %main
      =yield
    #modal.modal
      .modal-content

    :javascript
      var domain = "#{$domain}";
    %script{:src => "/js/main.js?#{rand(1024)}"}
    %script{:src => "/js/leaflet.graticule.js?#{rand(1024)}"}
    %script{:src => "/js/svg.min.js?#{rand(1024)}"}
    %script{:src => "/js/app.js?#{rand(1024)}", :type=>"text/javascript"}
